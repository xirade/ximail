(function(e){function t(t){for(var r,o,i=t[0],u=t[1],l=t[2],b=0,d=[];b<i.length;b++)o=i[b],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&d.push(c[o][0]),c[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);s&&s(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==c[u]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},c={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1034:function(e,t,n){"use strict";n("19b5")},"19b5":function(e,t,n){},"24ae":function(e,t,n){e.exports=n.p+"img/chat-dots-fill.be75b2fc.svg"},"331f":function(e,t,n){"use strict";n("6615")},"3f8a":function(e,t,n){e.exports=n.p+"img/arrow-right.7d2422a6.svg"},5665:function(e,t,n){e.exports=n.p+"img/trash.8db4e757.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function c(e,t,n,c,a,o){var i=Object(r["A"])("Navbar"),u=Object(r["A"])("Loading"),l=Object(r["A"])("router-view");return Object(r["s"])(),Object(r["g"])(r["a"],null,[Object(r["j"])(i),Object(r["j"])(l,null,{default:Object(r["H"])((function(e){var t=e.Component;return[t?(Object(r["s"])(),Object(r["g"])(r["c"],{key:0,name:"slide",mode:"out-in"},{default:Object(r["H"])((function(){return[(Object(r["s"])(),Object(r["g"])(r["b"],null,{default:Object(r["H"])((function(){return[(Object(r["s"])(),Object(r["g"])(Object(r["B"])(t)))]})),fallback:Object(r["H"])((function(){return[Object(r["j"])("div",null,[Object(r["j"])(u)])]})),_:2},1024))]})),_:2},1024)):Object(r["h"])("",!0)]})),_:1})],64)}var a={class:"d-flex justify-content-center"},o=Object(r["j"])("div",{class:"spinner-border",role:"status"},[Object(r["j"])("span",{class:"visually-hidden"},"Loading...")],-1);function i(e,t){return Object(r["s"])(),Object(r["g"])("div",a,[o])}const u={};u.render=i;var l=u,s={class:"container my-5 d-flex justify-content-between align-items-center"},b=Object(r["i"])(" Ximail "),d={key:0},m={class:"me-2"},j=Object(r["i"])("Hi here, "),p={key:1},f=Object(r["i"])("Sign up"),O=Object(r["i"])("Sign in");function v(e,t,n,c,a,o){var i=Object(r["A"])("router-link");return Object(r["s"])(),Object(r["g"])("nav",s,[Object(r["j"])("h1",null,[Object(r["j"])(i,{class:"text-decoration-none text-dark",to:{name:"Home"}},{default:Object(r["H"])((function(){return[b]})),_:1})]),c.user?(Object(r["s"])(),Object(r["g"])("div",d,[Object(r["j"])("span",m,[j,Object(r["j"])("strong",null,Object(r["D"])(c.user.displayName),1)]),Object(r["j"])("button",{class:"btn btn-outline-secondary",onClick:t[1]||(t[1]=function(){return c.handleLogout&&c.handleLogout.apply(c,arguments)})},"Logout")])):(Object(r["s"])(),Object(r["g"])("div",p,[Object(r["j"])(i,{to:{name:"Signup"},class:"btn btn-outline-dark me-2"},{default:Object(r["H"])((function(){return[f]})),_:1}),Object(r["j"])(i,{to:{name:"Login"},class:"btn btn-outline-primary me-2"},{default:Object(r["H"])((function(){return[O]})),_:1})]))])}var g=n("5502"),h=n("6c02"),y=n("5c40"),w={setup:function(){var e=Object(g["b"])(),t=Object(y["computed"])((function(){return e.getters.getUser})),n=Object(h["c"])(),r=function(){e.dispatch("logout").then((function(){n.push({name:"Login"})})).catch((function(e){console.log(e.message)}))};return{handleLogout:r,user:t}}};w.render=v;var x=w,k={name:"App",components:{Loading:l,Navbar:x}};n("8a48");k.render=c;var S=k,A=n("260b"),R=(n("e71f"),n("ea7b"),n("588e"),n("8934"),{apiKey:"AIzaSyB1vmfkOBemgR0tAF2OZnPDsmbYx0QLHEc",authDomain:"ximail.firebaseapp.com",projectId:"ximail",storageBucket:"ximail.appspot.com",messagingSenderId:"752082075882",appId:"1:752082075882:web:6c1daf702725a952df5793"});A["a"].initializeApp(R);var C=A["a"].firestore(),E=A["a"].auth(),I=(A["a"].storage(),A["a"].functions(),A["a"].auth),U=A["a"].firestore.FieldValue.serverTimestamp,M=n("ccc8"),_=n.n(M),D=Object(r["K"])("data-v-1c0be338");Object(r["v"])("data-v-1c0be338");var L={class:"container"},H={class:"row p-5"},P={class:"login-form border bg-light border-secondary p-5 mx-auto"},N=Object(r["j"])("h3",{class:"text-center"},"Login",-1),W={class:"input-group mb-4 justify-content-center"},T={class:"input-group-prepend"},V={class:"input-group mb-4 justify-content-center"},F={class:"input-group-prepend"},B={key:0,class:"text-danger mb-2 text-center"},X={class:"input-group mb-3 justify-content-center"},K=Object(r["j"])("img",{class:"p-2 mb-1",src:_.a},null,-1),z=Object(r["i"])("Sign in with google "),J=Object(r["j"])("div",{class:"input-group justify-content-center"},[Object(r["j"])("button",{class:"btn btn-outline-secondary"},"Sign in")],-1);Object(r["t"])();var G=D((function(e,t,n,c,a,o){return Object(r["s"])(),Object(r["g"])("div",L,[Object(r["j"])("form",{onSubmit:t[4]||(t[4]=Object(r["J"])((function(){return c.handleSubmit&&c.handleSubmit.apply(c,arguments)}),["prevent"]))},[Object(r["j"])("div",H,[Object(r["j"])("div",P,[N,Object(r["j"])("div",W,[Object(r["j"])("div",T,[Object(r["I"])(Object(r["j"])("input",{class:"form-control pe-5",type:"email",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.email=e})},null,512),[[r["F"],c.email]])])]),Object(r["j"])("div",V,[Object(r["j"])("div",F,[Object(r["I"])(Object(r["j"])("input",{class:"form-control pe-5",type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password=e})},null,512),[[r["F"],c.password]])])]),c.error?(Object(r["s"])(),Object(r["g"])("div",B,Object(r["D"])(c.error),1)):Object(r["h"])("",!0),Object(r["j"])("div",X,[Object(r["j"])("button",{onClick:t[3]||(t[3]=Object(r["J"])((function(){return c.googleSignIn&&c.googleSignIn.apply(c,arguments)}),["prevent"])),class:"btn btn-outline-dark pe-4"},[K,z])]),J])])],32)])})),Q=n("a1e9"),Y=n("1da1"),Z=(n("96cf"),function(e){var t=Object(Q["m"])(null),n=function(){var n=Object(Y["a"])(regeneratorRuntime.mark((function n(r){var c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.value=null,n.prev=1,n.next=4,C.collection(e).add(r);case 4:return c=n.sent,n.abrupt("return",c);case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0.message),t.value="could not send the message";case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}();return{error:t,addDoc:n}}),$=Z,q={setup:function(){var e=Object(g["b"])(),t=Object(h["c"])(),n=Object(y["computed"])((function(){return e.getters.getUser})),r=$("emails"),c=r.addDoc,a=Object(Q["m"])(""),o=Object(Q["m"])(""),i=Object(Q["m"])(""),u=function(){e.dispatch("loginGoogle").then((function(){c({archived:!1,body:"Hey ".concat(n.value.displayName,",\n            Welcome to Ximail. Your personal inbox service starts today.\n            What happens next?\n            Keep an eye on your inbox as weâ€™ll be sending you the best tips for Ximail.\n            Want to get more out of Ximail? Write me to email :)\n            6myusic6@gmail.com"),from:"6myusic6@gmail.com",read:!1,sentAt:U(),subject:"Welcome to Ximail inbox",userId:n.value.uid})})).then((function(){console.log("Authorizetion complete!"),t.push({name:"Home"})})).catch((function(e){console.log(e.message)}))},l=function(){e.dispatch("login",{email:a,password:o}).then((function(){t.push({name:"Home"})})).catch((function(e){i.value=e.message,console.log(e.message)}))};return{email:a,password:o,handleSubmit:l,googleSignIn:u,error:i}}};n("1034");q.render=G,q.__scopeId="data-v-1c0be338";var ee=q,te=Object(r["K"])("data-v-f9742c38");Object(r["v"])("data-v-f9742c38");var ne={class:"container"},re={class:"row p-5"},ce={class:"signup-form border bg-light border-secondary mx-auto p-5"},ae=Object(r["j"])("h3",{class:"text-center"},"Sign up",-1),oe={class:"input-group mb-4 justify-content-center"},ie={class:"input-group-prepend"},ue={class:"input-group mb-4 justify-content-center"},le={class:"input-group-prepend"},se={class:"input-group mb-4 justify-content-center"},be={class:"input-group-prepend"},de={key:0,class:"text-danger mb-2 text-center"},me=Object(r["j"])("div",{class:"input-group justify-content-center mb-1"},[Object(r["j"])("button",{class:"btn btn-outline-secondary"},"Sign up")],-1);Object(r["t"])();var je=te((function(e,t,n,c,a,o){return Object(r["s"])(),Object(r["g"])("div",ne,[Object(r["j"])("form",{onSubmit:t[4]||(t[4]=Object(r["J"])((function(){return c.handleSubmit&&c.handleSubmit.apply(c,arguments)}),["prevent"]))},[Object(r["j"])("div",re,[Object(r["j"])("div",ce,[ae,Object(r["j"])("div",oe,[Object(r["j"])("div",ie,[Object(r["I"])(Object(r["j"])("input",{class:"form-control pe-5",type:"displayname",placeholder:"Name","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.displayName=e})},null,512),[[r["F"],c.displayName]])])]),Object(r["j"])("div",ue,[Object(r["j"])("div",le,[Object(r["I"])(Object(r["j"])("input",{class:"form-control pe-5",type:"email",placeholder:"Email","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.email=e})},null,512),[[r["F"],c.email]])])]),Object(r["j"])("div",se,[Object(r["j"])("div",be,[Object(r["I"])(Object(r["j"])("input",{class:"form-control pe-5",type:"password",placeholder:"Password","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.password=e})},null,512),[[r["F"],c.password]])])]),c.error?(Object(r["s"])(),Object(r["g"])("div",de,Object(r["D"])(c.error),1)):Object(r["h"])("",!0),me])])],32)])})),pe={setup:function(){var e=Object(g["b"])(),t=Object(y["computed"])((function(){return e.getters.getUser})),n=Object(y["computed"])((function(){return e.getters.getError})),r=Object(h["c"])(),c=$("emails"),a=c.addDoc,o=Object(Q["m"])(""),i=Object(Q["m"])(""),u=Object(Q["m"])(""),l=function(){var n=Object(Y["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.dispatch("signUp",{email:o,password:i,displayName:u}).then((function(){a({archived:!1,body:"Hey ".concat(t.value.displayName,",\n            Welcome to Ximail. Your personal inbox service starts today.\n            What happens next?\n            Keep an eye on your inbox as weâ€™ll be sending you the best tips for Ximail.\n            Want to get more out of Ximail? Write me to email :)\n            6myusic6@gmail.com"),from:"6myusic6@gmail.com",read:!1,sentAt:U(),subject:"Welcome to Ximail inbox",userId:t.value.uid})})).then((function(){r.push({name:"Home"})})).catch((function(e){console.log(e.message)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{email:o,password:i,displayName:u,handleSubmit:l,error:n}}};n("331f");pe.render=je,pe.__scopeId="data-v-f9742c38";var fe=pe,Oe={key:1};function ve(e,t,n,c,a,o){var i=Object(r["A"])("MailTable");return Object(r["s"])(),Object(r["g"])("div",null,[c.emails?(Object(r["s"])(),Object(r["g"])(i,{key:0,emails:c.emails},null,8,["emails"])):Object(r["h"])("",!0),c.error?(Object(r["s"])(),Object(r["g"])("div",Oe," Could not fetch the data ")):Object(r["h"])("",!0)])}var ge=n("5530"),he=n("2909"),ye=(n("159b"),function(e,t){var n,r=Object(Q["m"])(null),c=Object(Q["m"])(null),a=C.collection(e).orderBy("sentAt");t&&(a=(n=a).where.apply(n,Object(he["a"])(t)));var o=a.onSnapshot((function(e){var t=[];e.docs.forEach((function(e){e.data().sentAt&&t.push(Object(ge["a"])(Object(ge["a"])({},e.data()),{},{id:e.id}))})),r.value=t,c.value=null}),(function(e){console.log(e.message),r.value=null,c.value="could not fetch data"}));return Object(y["watchEffect"])((function(e){e((function(){return o()}))})),{documents:r,error:c}}),we=ye,xe=n("24ae"),ke=n.n(xe),Se=n("6ea9"),Ae=n.n(Se),Re=Object(r["K"])("data-v-37fa465d");Object(r["v"])("data-v-37fa465d");var Ce={class:"container"},Ee={class:"mx-auto text-left "},Ie={class:"navbar flex-sm-row align-items-sm-center flex-column-reverse align-items-start ps-2"},Ue={class:"my-2 mr-auto me-md-0"},Me={class:"p-1"},_e={key:1},De={class:"p-2 text-center border-secondary"},Le=Object(r["j"])("img",{src:ke.a},null,-1),He={class:"wrapper d-none",ref:"form"},Pe={class:"bg-info text-center p-2 mb-1"},Ne=Object(r["j"])("span",{class:"ms-4"},"Create new ximail!",-1),We=Object(r["j"])("img",{src:Ae.a,alt:"x"},null,-1),Te={class:"chat-form border border-top-0"},Ve=Object(r["j"])("label",{for:"name",class:"form-label"},"Subject",-1),Fe=Object(r["j"])("label",{for:"name",class:"form-label"},"Email",-1),Be=Object(r["j"])("label",{for:"name",class:"form-label"},"Message",-1);Object(r["t"])();var Xe=Re((function(e,t,n,c,a,o){var i=Object(r["A"])("ActionBar"),u=Object(r["A"])("ScreenBar"),l=Object(r["A"])("MailView"),s=Object(r["A"])("ModalView");return Object(r["s"])(),Object(r["g"])("div",Ce,[Object(r["j"])("div",Ee,[Object(r["j"])("div",Ie,[Object(r["j"])(i,{emails:c.filteredEmails},null,8,["emails"]),Object(r["j"])("div",Ue,[Object(r["I"])(Object(r["j"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.searchQuery=e}),class:"form-control",type:"search",placeholder:"Search mail"},null,512),[[r["F"],c.searchQuery]])])]),Object(r["j"])(u,{onChangeScreen:c.changeScreen},null,8,["onChangeScreen"]),Object(r["j"])(r["c"],{name:"switch",mode:"out-in"},{default:Re((function(){return[c.filteredEmails.length?(Object(r["s"])(),Object(r["g"])(r["d"],{key:0,class:"border-secondary",name:"table",tag:"div",appear:""},{default:Re((function(){return[(Object(r["s"])(!0),Object(r["g"])(r["a"],null,Object(r["y"])(c.filteredEmails,(function(e){return Object(r["s"])(),Object(r["g"])("ul",{class:[["clickable",e.read?"bg-light":""],"d-flex align-items-center list-unstyled mb-1"],key:e.id},[Object(r["j"])("li",Me,[Object(r["j"])("input",{class:"form-check-input",type:"checkbox",onClick:function(t){return c.emailSelection.handleClick(e)},checked:c.emailSelection.emails.has(e)},null,8,["onClick","checked"])]),Object(r["j"])("li",{onClick:function(t){return c.handleOpen(e)},class:"p-1 px-2 fw-bold"},Object(r["D"])(e.from),9,["onClick"]),Object(r["j"])("li",{onClick:function(t){return c.handleOpen(e)},class:"p-1 subject m-0 fw-light text-truncate"},Object(r["D"])(e.subject),9,["onClick"]),Object(r["j"])("li",{onClick:function(t){return c.handleOpen(e)},class:"date ms-auto p-1"},Object(r["D"])(c.formattedTime(e.sentAt)),9,["onClick"])],2)})),128))]})),_:1})):(Object(r["s"])(),Object(r["g"])("div",_e,[Object(r["j"])("p",De,Object(r["D"])("inbox"==c.page?"Inbox":"Archive")+" do not have emails just yet... ",1)]))]})),_:1}),Object(r["j"])(r["c"],{name:"switch",mode:"out-in"},{default:Re((function(){return[c.openedEmail?(Object(r["s"])(),Object(r["g"])(s,{key:0,onCloseModal:t[2]||(t[2]=function(e){return c.openedEmail=null})},{default:Re((function(){return[Object(r["j"])(l,{email:c.openedEmail,onChangeEmail:c.changeEmail},null,8,["email","onChangeEmail"])]})),_:1})):Object(r["h"])("",!0)]})),_:1}),Object(r["j"])("a",{onClick:t[3]||(t[3]=function(){return c.closeWindow&&c.closeWindow.apply(c,arguments)}),class:"btn btn-outline-secondary border chat-btn"},[Le]),Object(r["j"])("form",He,[Object(r["j"])("div",Pe,[Ne,Object(r["j"])("a",{onClick:t[4]||(t[4]=function(){return c.closeWindow&&c.closeWindow.apply(c,arguments)}),class:"x-lg ms-5"},[We])]),Object(r["j"])("div",Te,[Ve,Object(r["I"])(Object(r["j"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.subject=e}),name:"name"},null,512),[[r["F"],c.subject]]),Fe,Object(r["I"])(Object(r["j"])("input",{type:"email",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=function(e){return c.email=e}),name:"name"},null,512),[[r["F"],c.email]]),Be,Object(r["I"])(Object(r["j"])("textarea",{class:"form-control","onUpdate:modelValue":t[7]||(t[7]=function(e){return c.message=e}),name:"name"},null,512),[[r["F"],c.message]]),Object(r["j"])("button",{onClick:t[8]||(t[8]=Object(r["J"])((function(){return c.handleSubmit&&c.handleSubmit.apply(c,arguments)}),["prevent"])),class:"btn btn-outline-secondary"},"Submit")])],512)])])})),Ke=(n("4de4"),n("8681")),ze=n.n(Ke),Je=n("7db6"),Ge=n.n(Je),Qe=Object(r["K"])("data-v-eb84f2c8");Object(r["v"])("data-v-eb84f2c8");var Ye={class:"d-flex justify-content-end border-bottom border-secondary"},Ze=Object(r["j"])("img",{src:ze.a,alt:"at"},null,-1),$e=Object(r["j"])("span",null,"Inbox",-1),qe=Object(r["j"])("img",{src:Ge.a,alt:"bookshelf"},null,-1),et=Object(r["j"])("span",null,"Archive",-1);Object(r["t"])();var tt=Qe((function(e,t,n,c,a,o){return Object(r["s"])(),Object(r["g"])("div",Ye,[Object(r["j"])("a",{class:"btn mb-1  btn-outline-secondary text-dark border-end-0  border-bottom-0",onClick:t[1]||(t[1]=function(e){return c.toInbox("inbox")})},[Ze,$e]),Object(r["j"])("a",{class:"btn mb-1 btn-outline-secondary text-dark border-bottom-0",onClick:t[2]||(t[2]=function(e){return c.toInbox("archive")})},[qe,et])])})),nt={setup:function(e,t){var n=t.emit,r=function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n("changeScreen",{screen:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{toInbox:r}}};n("6de3");nt.render=tt,nt.__scopeId="data-v-eb84f2c8";var rt=nt,ct=n("738c"),at=n.n(ct),ot=n("726b"),it=n.n(ot),ut=n("8ea1"),lt=n.n(ut),st=n("9499"),bt=n.n(st),dt=n("5665"),mt=n.n(dt),jt={class:"d-flex me-5"},pt={class:"ms-md-0 mx-auto"},ft=Object(r["j"])("img",{src:at.a,alt:"read"},null,-1),Ot=Object(r["j"])("img",{src:it.a,alt:"read"},null,-1),vt=Object(r["j"])("img",{src:lt.a,alt:"archive"},null,-1),gt=Object(r["j"])("img",{src:bt.a,alt:"unarchive"},null,-1),ht=Object(r["j"])("img",{src:mt.a,alt:"trash"},null,-1);function yt(e,t,n,c,a,o){return Object(r["s"])(),Object(r["g"])("div",jt,[Object(r["j"])("input",{class:"me-3 form-check-input",type:"checkbox",checked:c.allEmailsSelected&&0!=n.emails.length,onClick:t[1]||(t[1]=function(){return c.handleSelectAll&&c.handleSelectAll.apply(c,arguments)}),disabled:0==n.emails.length},null,8,["checked","disabled"]),Object(r["j"])("div",pt,[Object(he["a"])(c.emailSelection.emails).every((function(e){return!e.read}))?(Object(r["s"])(),Object(r["g"])("button",{key:0,class:"me-3 btn btn-outline-secondary",onClick:t[2]||(t[2]=function(e){return c.emailSelection.markRead()}),disabled:Object(he["a"])(c.emailSelection.emails).every((function(e){return e.read})),title:"Mark Read"},[ft],8,["disabled"])):(Object(r["s"])(),Object(r["g"])("button",{key:1,title:"Mark Unread",class:"me-3 btn btn-outline-secondary",onClick:t[3]||(t[3]=function(e){return c.emailSelection.markUnread()})},[Ot])),Object(he["a"])(c.emailSelection.emails).every((function(e){return!e.archived}))?(Object(r["s"])(),Object(r["g"])("button",{key:2,title:"Archive",class:"me-3 btn btn-outline-secondary",onClick:t[4]||(t[4]=function(e){return c.emailSelection.archive()}),disabled:Object(he["a"])(c.emailSelection.emails).every((function(e){return e.archived}))},[vt],8,["disabled"])):(Object(r["s"])(),Object(r["g"])("button",{key:3,title:"Unarchive",class:"me-3 btn btn-outline-secondary",onClick:t[5]||(t[5]=function(e){return c.emailSelection.unarchive()})},[gt])),Object(r["j"])("button",{title:"Delete",class:"btn btn-outline-secondary",onClick:t[6]||(t[6]=function(e){return c.emailSelection.remove()}),disabled:0==c.numberSelected},[ht],8,["disabled"])])])}n("d3b7"),n("6062"),n("3ca3"),n("ddb0");var wt=function(e,t){var n=Object(Q["m"])(null),r=Object(Q["m"])(!1),c=C.collection(e).doc(t),a=function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!0,n.value=null,e.prev=2,e.next=5,c.delete();case 5:return t=e.sent,r.value=!1,e.abrupt("return",t);case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0.message),r.value=!1,n.value="Could not delete the document";case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!0,n.value=null,e.prev=2,e.next=5,c.update(t);case 5:return a=e.sent,r.value=!1,e.abrupt("return",a);case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0.message),r.value=!1,n.value="Could not update the document";case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return{error:n,isPending:r,updateDoc:o,deleteDoc:a}},xt=wt,kt=Object(Q["k"])(new Set),St=function(){var e=function(e){kt.has(e)?kt.delete(e):kt.add(e)},t=function(){kt.clear()},n=function(e){e.forEach((function(e){kt.add(e)}))},r=function(e){kt.forEach(function(){var t=Object(Y["a"])(regeneratorRuntime.mark((function t(n){var r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e(n),r=xt("emails",n.id),c=r.updateDoc,t.next=4,c(Object(ge["a"])({},n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},c=function(){r((function(e){return e.read=!0})),t()},a=function(){r((function(e){return e.read=!1})),t()},o=function(){r((function(e){return e.archived=!0})),t()},i=function(){r((function(e){return e.archived=!1})),t()},u=function(){kt.forEach(function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(n){var r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=xt("emails",n.id),c=r.deleteDoc,e.next=3,c();case 3:t();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return{emails:kt,handleClick:e,clear:t,addMultiple:n,markRead:c,markUnread:a,archive:o,unarchive:i,remove:u}},At=St,Rt={props:["emails"],setup:function(e){var t=At(),n=Object(y["computed"])((function(){return t.emails.size})),r=Object(y["computed"])((function(){return e.emails.length})),c=Object(y["computed"])((function(){return n.value===r.value})),a=function(){c.value?t.clear():t.addMultiple(e.emails)};return{allEmailsSelected:c,numberSelected:n,handleSelectAll:a,emailSelection:t}}};Rt.render=yt;var Ct=Rt,Et=Object(r["K"])("data-v-6178279e");Object(r["v"])("data-v-6178279e");var It={class:"d-block modal"},Ut={class:"modal-dialog position-relative"},Mt={class:"modal-content p-5 m-auto"},_t=Object(r["j"])("img",{src:Ae.a,alt:"x"},null,-1);Object(r["t"])();var Dt=Et((function(e,t,n,c,a,o){return Object(r["s"])(),Object(r["g"])("div",It,[Object(r["j"])("div",{class:"position-fixed overlay w-100 h-100",onClick:t[1]||(t[1]=function(e){return c.emit("closeModal")})}),Object(r["j"])("div",Ut,[Object(r["j"])("div",Mt,[Object(r["j"])("a",{onClick:t[2]||(t[2]=function(e){return c.emit("closeModal")}),class:"ms-auto close"},[_t]),Object(r["z"])(e.$slots,"default",{},void 0,!0)])])])})),Lt=(n("7db0"),n("5c40")),Ht=Lt.onBeforeUnmount,Pt=function(e){var t=function(t){var n=e.find((function(e){return e.key==t.key}));n&&n.fn()};window.addEventListener("keydown",t),Ht((function(){window.removeEventListener("keydown",t)}))},Nt=Pt,Wt={setup:function(e,t){var n=t.emit;return Nt([{key:"Escape",fn:function(){n("closeModal")}}]),{emit:n}}};n("e468");Wt.render=Dt,Wt.__scopeId="data-v-6178279e";var Tt=Wt,Vt=n("f3a0"),Ft=n.n(Vt),Bt=n("3f8a"),Xt=n.n(Bt),Kt={class:"text-left"},zt={class:"btn-group btn-group-sm"},Jt=Object(r["j"])("img",{src:lt.a,alt:"archive"},null,-1),Gt=Object(r["i"])(" Archived (A) "),Qt=Object(r["j"])("img",{src:ze.a,alt:"at"},null,-1),Yt=Object(r["i"])(" Move to Inbox (A) "),Zt={class:"modal-header ps-0"},$t={class:"mb-0 modal-title"},qt={class:"fw-bold"},en={class:"fw-lighter my-3"},tn=Object(r["j"])("br",null,null,-1),nn=Object(r["i"])(" on "),rn={class:"modal-footer"},cn=Object(r["j"])("img",{src:Ft.a,alt:"arrow left"},null,-1),an=Object(r["j"])("img",{src:Xt.a,alt:"arrow right"},null,-1);function on(e,t,n,c,a,o){return Object(r["s"])(),Object(r["g"])("div",Kt,[Object(r["j"])("div",zt,[n.email.archived?(Object(r["s"])(),Object(r["g"])("button",{key:1,onClick:t[2]||(t[2]=function(e){return c.handleArchived(n.email)}),class:"btn btn-outline-dark me-2"},[Qt,Yt])):(Object(r["s"])(),Object(r["g"])("button",{key:0,onClick:t[1]||(t[1]=function(e){return c.handleArchived(n.email)}),class:"btn btn-outline-dark me-2"},[Jt,Gt]))]),Object(r["j"])("div",Zt,[Object(r["j"])("h2",$t,[Object(r["j"])("strong",qt,Object(r["D"])(n.email.subject),1)])]),Object(r["j"])("div",en,[Object(r["j"])("em",null,[Object(r["i"])(" From "+Object(r["D"])(n.email.from)+" ",1),tn,nn,Object(r["j"])("strong",null,Object(r["D"])(c.formattedTime(n.email.sentAt)),1)])]),Object(r["j"])("div",{class:"modal-body ps-0 lh-lg",innerHTML:c.markDown},null,8,["innerHTML"]),Object(r["j"])("div",rn,[Object(r["j"])("button",{onClick:t[3]||(t[3]=function(){return c.goPrev&&c.goPrev.apply(c,arguments)}),class:"btn btn-outline-dark"},[cn]),Object(r["j"])("button",{onClick:t[4]||(t[4]=function(){return c.goNext&&c.goNext.apply(c,arguments)}),class:"btn btn-outline-dark me-2"},[an])])])}var un=n("b166"),ln=n("0e54"),sn=n.n(ln),bn={props:["email"],setup:function(e,t){var n=t.emit,r=e.email,c=function(e){return Object(un["a"])(e.toDate(),"MMM do yyyy HH:mm")},a=Object(y["computed"])((function(){return sn()(r.body)})),o=function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n("changeEmail",{handleArchived:!0,save:!0,closeModal:!0});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n("changeEmail",{changeIndex:-1});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n("changeEmail",{changeIndex:1});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n("changeEmail",{changeIndex:-1,handleArchived:!0,save:!0});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n("changeEmail",{changeIndex:1,handleArchived:!0,save:!0});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Nt([{key:"a",fn:o},{key:"ArrowRight",fn:i},{key:"ArrowLeft",fn:u},{key:"[",fn:l},{key:"]",fn:s}]),{formattedTime:c,markDown:a,handleArchived:o,goNext:i,goPrev:u}}};bn.render=on;var dn=bn,mn={props:["emails"],components:{MailView:dn,ModalView:Tt,ActionBar:Ct,ScreenBar:rt},setup:function(e){var t=Object(g["b"])(),n=Object(y["computed"])((function(){return t.getters.getUser})),r=Object(Q["m"])(null),c=At(),a=$("emails"),o=a.addDoc,i=Object(Q["m"])("inbox"),u=Object(Q["m"])(""),l=Object(Q["m"])(null),s=Object(Q["m"])(""),b=Object(Q["m"])(""),d=Object(Q["m"])(""),m=function(){l.value.classList.toggle("d-none")},j=function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o({archived:!1,body:d.value,from:b.value,read:!1,sentAt:U(),subject:s.value,userId:n.value.uid});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0.message);case 8:m(),b.value="",s.value="",d.value="";case 12:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),p=Object(y["computed"])((function(){return"inbox"==i.value?e.emails.filter((function(e){return v(e)&&!e.archived})):e.emails.filter((function(e){return v(e)&&e.archived}))})),f=function(e){return Object(un["a"])(e.toDate(),"MMM do yyyy HH:mm")},O=function(e){var t=e.screen;"inbox"==t?(i.value="inbox",c.clear()):(i.value="archived",c.clear())},v=function(e){return-1!=e.subject.toLowerCase().indexOf(u.value.toLowerCase())},h=function(e){r.value=e,e&&(e.read=!0,w(e))},w=function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=xt("emails",t.id),r=n.updateDoc,e.next=3,r(Object(ge["a"])({},t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(Y["a"])(regeneratorRuntime.mark((function e(t){var n,c,a,o,i,u,l,s,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.handleRead,c=t.handleArchived,a=t.save,o=t.closeModal,i=t.changeIndex,u=r.value,n&&(u.read=!u.read),c&&(u.archived=!u.archived),a&&w(u),o&&(r.value=null),i&&(l=p.value,s=l.indexOf(r.value),b=l[s+i],h(b));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{emailSelection:c,openedEmail:r,closeWindow:m,filteredEmails:p,formattedTime:f,handleOpen:h,changeEmail:x,changeScreen:O,page:i,searchQuery:u,handleSubmit:j,email:b,subject:s,message:d,format:un["a"],form:l}}};n("8875");mn.render=Xe,mn.__scopeId="data-v-37fa465d";var jn=mn,pn={setup:function(){var e=Object(g["b"])(),t=Object(y["computed"])((function(){return e.getters.getUser})),n=we("emails",["userId","==",t.value.uid]),r=n.documents,c=n.error;return{error:c,emails:r}},components:{MailTable:jn}};pn.render=ve;var fn,On=pn,vn=function(e,t,n){var r=E.currentUser;r?n():n({name:"Login"})},gn=[{path:"/",name:"Home",component:On,beforeEnter:vn},{path:"/login",name:"Login",component:ee},{path:"/signup",name:"Signup",component:fe}],hn=Object(h["a"])({history:Object(h["b"])("/"),routes:gn}),yn=hn,wn=(n("ac1f"),n("466d"),Object(g["a"])({state:{user:null,error:""},actions:{signUp:function(e,t){return Object(Y["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o,i,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.dispatch,c=e.state,a=t.email,o=t.password,i=t.displayName,n.prev=2,i.value.match(/[A-Za-z]{3,9}/)){n.next=5;break}throw Error("Name field must contain only letters and limited to 9 characters");case 5:if(!(o.value.length<7)){n.next=7;break}throw Error("Password length is less 6 symbols");case 7:return n.next=9,E.createUserWithEmailAndPassword(a.value,o.value);case 9:if(u=n.sent,u){n.next=12;break}throw new Error("Could not complete the signup");case 12:return n.next=14,u.user.updateProfile({displayName:i.value});case 14:l=u.user.displayName,r("setUser",Object(ge["a"])(Object(ge["a"])({},u.user),{},{displayName:l})),n.next=22;break;case 18:n.prev=18,n.t0=n["catch"](2),c.error=n.t0.message,console.log(n.t0.message);case 22:case"end":return n.stop()}}),n,null,[[2,18]])})))()},login:function(e,t){return Object(Y["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,c=e.state,a=t.email,o=t.password,n.prev=2,n.next=5,E.signInWithEmailAndPassword(a.value,o.value);case 5:i=n.sent,r("setUser",i.user),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](2),c.error=n.t0.message,console.log(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))()},loginGoogle:function(e){return Object(Y["a"])(regeneratorRuntime.mark((function t(){var n,r,c,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,r=e.state,c=new I.GoogleAuthProvider,t.prev=2,t.next=5,E.signInWithPopup(c);case 5:a=t.sent,n("setUser",a.user),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),r.error=t.t0.message,console.log(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},logout:function(e){return Object(Y["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,t.prev=1,t.next=4,E.signOut();case 4:n("LOGOUT"),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](1),r.error=t.t0.message,console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},setUser:function(e,t){var n=e.commit;n("SET_USER",t)}},mutations:{LOGOUT:function(e,t){e.user=null},SET_USER:function(e,t){e.user=t}},getters:{getUser:function(e){return e.user},getError:function(e){return e.error}}})),xn=wn;n("845f"),n("ab8b"),n("7b17");E.onAuthStateChanged((function(e){fn||(fn=Object(r["f"])(S).use(xn).use(yn).mount("#app")),e&&xn.dispatch("setUser",e)}))},6615:function(e,t,n){},"6de3":function(e,t,n){"use strict";n("ca9d")},"6ea9":function(e,t,n){e.exports=n.p+"img/x-lg.96e67756.svg"},"726b":function(e,t,n){e.exports=n.p+"img/envelope-open.885e6782.svg"},"738c":function(e,t,n){e.exports=n.p+"img/envelope-close.a70e5473.svg"},"7db6":function(e,t,n){e.exports=n.p+"img/bookshelf.1c0f57ab.svg"},"845f":function(e,t,n){},8681:function(e,t,n){e.exports=n.p+"img/at.e8baec59.svg"},8875:function(e,t,n){"use strict";n("c6e6")},"8a48":function(e,t,n){"use strict";n("d06e")},"8ea1":function(e,t,n){e.exports=n.p+"img/archive.fb31625f.svg"},9499:function(e,t,n){e.exports=n.p+"img/unarchive.256115d4.svg"},c6e6:function(e,t,n){},ca9d:function(e,t,n){},ccc8:function(e,t,n){e.exports=n.p+"img/google.6f4c74c3.svg"},d06e:function(e,t,n){},e119:function(e,t,n){},e468:function(e,t,n){"use strict";n("e119")},f3a0:function(e,t,n){e.exports=n.p+"img/arrow-left.6bd6e653.svg"}});
//# sourceMappingURL=app.ed5d98e8.js.map